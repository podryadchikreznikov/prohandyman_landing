Идентификатор - etnrnjhig45odvr1gc6s
Путь к базе - /ru-central1/b1get3fv6s3logju9ui9/etnrnjhig45odvr1gc6s
Эндпоинт - grpcs://ydb.serverless.yandexcloud.net:2135/?database=/ru-central1/b1get3fv6s3logju9ui9/etnrnjhig45odvr1gc6s

---
# Таблицы
В данной базе хранятся данные о компаниях, их пользователях и сотрудниках.

#### Таблица: `Firms`

| #   | Имя             | Ключ | Тип         | Описание                                             |
| --- | --------------- | ---- | ----------- | ---------------------------------------------------- |
| 0   | `firm_id`       | PK   | `Utf8`      | Уникальный идентификатор компании (UUID).            |
| 1   | `firm_name`     |      | `Utf8`      | Название компании.                                   |
| 2   | `owner_user_id` |      | `Utf8`      | Идентификатор пользователя-владельца компании.       |
| 3   | `plan_type`     |      | `Utf8`      | Тип тарифного плана (например, "free", "pro").       |
| 4   | `created_at`    |      | `Timestamp` | Время создания записи о компании.                    |
| 5   | `is_active`     |      | `Bool`      | Флаг, указывающий, активна ли компания.              |
| 6   | `integrations_json` |      | `Json`      | JSON-объект с настройками интеграций компании.       |

#### Таблица: `Users` (ИЗМЕНЕНО)

| #   | Имя              | Ключ | Тип         | Описание                                                      |
| --- | ---------------- | ---- | ----------- | ------------------------------------------------------------- |
| 0   | `user_id`        | PK   | `Utf8`      | Уникальный идентификатор пользователя (UUID).                 |
| 1   | `firm_id`        |      | `Utf8`      | Идентификатор компании, к которой привязан пользователь.      |
| 2   | `email`          |      | `Utf8`      | Email пользователя (уникален в рамках `firm_id`).             |
| 3   | `password_hash`  |      | `Utf8`      | Хеш пароля пользователя.                                      |
| 4   | `full_name`      |      | `Utf8`      | Полное имя пользователя.                                      |
| 5   | `roles`          |      | `Json`      | Роли пользователя в системе в формате JSON-массива.           |
| 6   | `is_active`      |      | `Bool`      | Флаг, указывающий, активен ли пользователь.                   |
| 7   | `created_at`     |      | `Timestamp` | Время создания записи о пользователе.                         |
| 8   | `invitation_key` |      | `Utf8`      | **(НОВОЕ)** Уникальный ключ-приглашение для активации аккаунта. |
| 9   | `invitation_sent_at` |      | `Timestamp` | **(НОВОЕ)** Время последней отправки приглашения. |

#### Таблица: `FirmEmployeeProfiles` (**НОВАЯ**)

| #  | Имя                   | Ключ           | Тип               | Описание                                                        |
| -- | --------------------- | -------------- | ----------------- | --------------------------------------------------------------- |
| 0  | `employee_id`         | PK             | `Utf8`            | Уникальный идентификатор сотрудника (UUID).                     |
| 1  | `firm_id`             |                | `Utf8`            | Идентификатор компании, ссылка на `Firms.firm_id`.              |
| 2  | `full_name`           |                | `Utf8`            | Полное имя сотрудника.                                         |
| 3  | `birth_date`          |                | `Date`            | Дата рождения.                                                  |
| 4  | `documents_metadata_json` |            | `Json`            | JSON с метаданными документов и фотографий.                     |
| 5  | `email`               |                | `Optional<Utf8>`  | Электронная почта.                                             |
| 6  | `phone_number`        |                | `Optional<Utf8>`  | Номер телефона.                                                |
| 7  | `citizenship`         |                | `Optional<Utf8>`  | Гражданство.                                                   |
| 8  | `inn`                 |                | `Optional<Utf8>`  | ИНН.                                                            |
| 9  | `snils`               |                | `Optional<Utf8>`  | СНИЛС.                                                          |
| 10 | `passport_series`     |                | `Optional<Utf8>`  | Серия паспорта.                                                |
| 11 | `passport_number`     |                | `Optional<Utf8>`  | Номер паспорта.                                                |
| 12 | `passport_issued_date`|                | `Optional<Date>`  | Дата выдачи паспорта.                                          |
| 13 | `passport_issued_by`  |                | `Optional<Utf8>`  | Орган выдачи паспорта.                                         |
| 14 | `registration_address`|                | `Optional<Utf8>`  | Адрес регистрации (прописка).                                  |
| 15 | `tags_json`           |                | `Json`            | Список навыков/видов работ (JSON-массив).                      |
| 16 | `business_trip_json`  |                | `Json`            | Метаданные о командировках (тип, длительность и пр.).          |
| 17 | `created_at`          |                | `Timestamp`       | Время создания записи.                                         |
| 18 | `updated_at`          |                | `Timestamp`       | Время последнего обновления.                                   |

Примечания:
- Для быстрого поиска профилей сотрудников имеет смысл завести индексы по `firm_id`, `phone_number`, `email`.
- Конфиденциальные JSON-поля рекомендуется валидировать через `metadata-validator` перед сохранением.