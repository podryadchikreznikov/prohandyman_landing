---
Идентификатор - [TO_BE_CREATED]
Путь к базе - [будет выделен]
Эндпоинт - [будет выдан]

---
# Таблицы

## Структура каталогов
- Базовый префикс: `/objects`
- Для каждой компании создаётся подпапка: `/objects/{firm_id}`
- Таблица с объектами компании хранится по пути: `/objects/{firm_id}/firm_objects`

Такой подход позволяет изолировать данные по компаниям и упростить контроль доступов на уровне директорий.

#### Таблица: `firm_objects`

| # | Имя | Ключ | Тип | Описание |
| - | --- | ---- | --- | -------- |
| 0 | `firm_id` | PK (часть 1) | `Utf8` | Идентификатор компании, ссылка на `Firms.firm_id`. |
| 1 | `object_id` | PK (часть 2) | `Utf8` | Уникальный идентификатор объекта (UUID). |
| 2 | `object_name` | | `Utf8` | Наименование объекта. |
| 3 | `address` | | `Utf8` | Адрес расположения. |
| 4 | `comment` | | `Optional<Utf8>` | Дополнительный комментарий. |
| 5 | `attachments_metadata_json` | | `Json` | JSON с метаданными вложений (файлы, изображения и т.п.). |
| 6 | `contract_amount` | | `Optional<Double>` | Сумма договора по объекту в рублях. |
| 7 | `extra_charges_json` | | `Json` | JSON-массив «допов»: `{ "amount": <Double>, "recorded_at": <Timestamp> }`. |
| 8 | `contact_person_json` | | `Json` | Контактное лицо (ФИО, телефон, email) в формате JSON. |
| 9 | `created_at` | | `Timestamp` | Время создания записи. |
| 10 | `updated_at` | | `Timestamp` | Время последнего обновления. |

---
## Индексы и замечания
- Рекомендуется создать глобальный индекс по `object_name` для полнотекстового поиска.
- Все JSON-поля должны валидироваться функцией `metadata-validator` перед сохранением.
- Таблица создаётся автоматически служебной функцией управления объектами.
