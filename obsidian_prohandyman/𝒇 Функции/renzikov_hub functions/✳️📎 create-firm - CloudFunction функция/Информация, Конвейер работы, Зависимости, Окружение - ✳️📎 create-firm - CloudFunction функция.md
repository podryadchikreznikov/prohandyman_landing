–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä - d4eoi2t95da1q55doflo
–û–ø–∏—Å–∞–Ω–∏–µ -¬†êÄ™ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ñ–∏—Ä–º—É –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–π —Ç–∞–±–ª–∏—Ü—ã
–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ - index.handler
–¢–∞–π–º–∞—É—Ç - 20 —Å–µ–∫

---

–ù–∞ –≤—Ö–æ–¥–µ:
	-> `Authorization: Bearer <jwt_token>`: –¢–æ–∫–µ–Ω –ª—é–±–æ–≥–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
	-> `firm_name`: –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ–∏—Ä–º—ã –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞.
–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞–±–æ—Ç–∞:
	-> –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ INFO.
	-> –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
		-> –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ Authorization.
		-> –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ user_id –∏ email.
	-> –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞:
		-> –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ firm_name –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–æ–º–æ—â—å—é request_parser.
	-> –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID: –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ firm_id —Å –ø–æ–º–æ—â—å—é UUID.
	-> –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
		-> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ë–î (jwt-database) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è user_name –ø–æ user_id.
		-> –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "Unknown".
	-> –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ firms-database:
		-> –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º (—Ä–æ–ª—å "OWNER") –∫–∞–∫–æ–π-–ª–∏–±–æ —Ñ–∏—Ä–º—ã.
		-> –í—Å—Ç–∞–≤–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü—É Firms —Å firm_id, firm_name, owner_user_id, integrations_json={}, created_at, is_active=True.
		-> –í—Å—Ç–∞–≤–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü—É Users —Å user_id, firm_id, email, full_name, roles=["OWNER"], is_active=True, created_at.
	-> –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏—Ä–º—ã (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞).
	-> –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤.
–ù–∞ –≤—ã—Ö–æ–¥–µ:
	-> `201 Created`: {"message": "Firm created successfully", "firm_id": "..."}
	-> `400 Bad Request`: –ï—Å–ª–∏ firm_name –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞.
	-> `401 Unauthorized`: –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω.
	-> `409 Conflict`: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –¥—Ä—É–≥–æ–π —Ñ–∏—Ä–º—ã.
	-> `500 Internal Server Error`: –í —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü.

---
#### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- **–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã**: `utils/util_http/request.py` (parse_event), `utils/util_http/response.py` (ok/created/bad_request/...), `utils/util_ydb/driver.py` (get_driver, get_session_pool, get_session_pool_from_env), `utils/util_crypto/jwt_tokens.py` (verify_jwt)
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
	- `YDB_ENDPOINT`, `YDB_DATABASE` (–æ—Å–Ω–æ–≤–Ω–∞—è auth-database –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è user_name)
	- `YDB_ENDPOINT_FIRMS`, `YDB_DATABASE_FIRMS`
	- `SA_KEY_FILE`
	- `JWT_SECRET`